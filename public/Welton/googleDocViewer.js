function initGoogleDocViewer(){document.querySelectorAll("a[href*='drive.google.com']").forEach((link)=>{link.addEventListener("click",(e)=>{e.preventDefault(),openGooglePopUp(link.href.replace("/view","/preview"))}),link.setAttribute("data-google-popup","true")})}function closeGooglePopUp(){let widgets=document.querySelectorAll("*[class*='widget']");document.querySelectorAll("#popGoogle").forEach((popup)=>{if(!document.referrer||history.length===1)navigator.language.includes("en")?window.location.replace("https://en.weltonhotel.ru/"):window.location.replace("https://weltonhotel.ru/");else popup.remove()}),widgets.forEach((widget)=>{widget.style.opacity="initial",widget.style.pointerEvents="initial"})}function openGooglePopUp(link){document.querySelectorAll("*[class*='widget']").forEach((widget)=>{widget.style.opacity="0",widget.style.pointerEvents="none"});let popNode=document.createElement("div");popNode.style.position="fixed",popNode.style.display="flex",popNode.style.alignItems="center",popNode.style.justifyContent="center",popNode.style.backgroundColor="#00000020",popNode.style.top="0",popNode.style.padding="1rem",popNode.style.left="0",popNode.style.bottom="0",popNode.style.right="0",popNode.style.zIndex="99999",popNode.style.backdropFilter="blur(10px)",popNode.setAttribute("id","popGoogle"),popNode.onclick=closeGooglePopUp;let iframe=document.createElement("iframe");iframe.src=link,iframe.referrerPolicy="no-referrer",iframe.style.height="100%",iframe.style.width="100%",iframe.style.maxWidth="600px",iframe.style.border="none",iframe.style.borderRadius="10px";let closeButton=document.createElement("button");closeButton.style.position="fixed",closeButton.style.top="0",closeButton.style.right="0",closeButton.style.zIndex="999999",closeButton.style.width="2.5rem",closeButton.style.height="2.5rem",closeButton.style.background='url("https://api.iconify.design/hugeicons:cancel-01.svg")',closeButton.style.backgroundSize="cover",closeButton.style.backgroundPosition="center",closeButton.style.backgroundColor="#EBE3DE",closeButton.style.borderRadius="1rem",closeButton.onclick=closeGooglePopUp,window.addEventListener("keydown",(event)=>{if(event.key==="Escape")closeGooglePopUp()}),popNode.appendChild(iframe),popNode.appendChild(closeButton),document.body.appendChild(popNode)}document.addEventListener("DOMContentLoaded",initGoogleDocViewer);
